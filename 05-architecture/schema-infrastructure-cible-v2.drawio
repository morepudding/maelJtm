<?xml version="1.0" ?>
<mxfile host="Electron" modified="2024-05-23T00:00:00.000Z" agent="Mozilla/5.0" version="21.3.7" type="device">
  <diagram id="arch-v2" name="BricoLoc - OVHcloud V2">
    <mxGraphModel dx="1200" dy="800" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="1400" pageHeight="1200" math="0" shadow="0">
      <root>
        <mxCell id="0"/>
        <mxCell id="1" parent="0"/>
        <mxCell id="ovh_bg" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f5f5f5;fontColor=#333333;strokeColor=#666666;" vertex="1" parent="1">
          <mxGeometry x="350" y="40" width="850" height="800" as="geometry"/>
        </mxCell>
        <mxCell id="ovh_title" value="Infrastructure OVHcloud" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontStyle=1;fontSize=18;" vertex="1" parent="1">
          <mxGeometry x="380" y="50" width="250" height="30" as="geometry"/>
        </mxCell>
        <mxCell id="public_zone" value="Public Cloud OVH (Exposition)" style="ellipse;whiteSpace=wrap;html=1;fillColor=none;dashed=1;fontStyle=1;fontSize=16;" vertex="1" parent="1">
          <mxGeometry x="380" y="100" width="300" height="150" as="geometry"/>
        </mxCell>
        <mxCell id="private_zone" value="Réseau Privé OVH (vRack)" style="ellipse;whiteSpace=wrap;html=1;fillColor=none;dashed=1;fontStyle=1;fontSize=16;" vertex="1" parent="1">
          <mxGeometry x="380" y="280" width="750" height="530" as="geometry"/>
        </mxCell>
        <mxCell id="client_salarie" value="Salarié.e BricoLoc" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e1d5e7;strokeColor=#9673a6;fontColor=#000000;fontStyle=1;fontSize=14;" vertex="1" parent="1">
          <mxGeometry x="50" y="120" width="150" height="60" as="geometry"/>
        </mxCell>
        <mxCell id="client_entrepot" value="Entrepôts (VPN)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e1d5e7;strokeColor=#9673a6;fontColor=#000000;fontStyle=1;fontSize=14;" vertex="1" parent="1">
          <mxGeometry x="50" y="220" width="150" height="60" as="geometry"/>
        </mxCell>
        <mxCell id="client_web" value="Navigateur Web
App Mobile" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e1d5e7;strokeColor=#9673a6;fontColor=#000000;fontStyle=1;fontSize=14;" vertex="1" parent="1">
          <mxGeometry x="50" y="380" width="150" height="60" as="geometry"/>
        </mxCell>
        <mxCell id="client_partenaire" value="Partenaire
(Marque blanche)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e1d5e7;strokeColor=#9673a6;fontColor=#000000;fontStyle=1;fontSize=14;" vertex="1" parent="1">
          <mxGeometry x="50" y="480" width="150" height="60" as="geometry"/>
        </mxCell>
        <mxCell id="api_gw" value="API Gateway
(Spring Security + JWT)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffffff;strokeColor=#000000;fontStyle=1;fontSize=14;shadow=1;" vertex="1" parent="1">
          <mxGeometry x="430" y="140" width="200" height="80" as="geometry"/>
        </mxCell>
        <mxCell id="monolithe" value="Monolithe Modulaire (Spring Boot 3 - Java 21)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f8cecc;strokeColor=#b85450;verticalAlign=top;spacingTop=10;fontColor=#FF0000;fontStyle=1;fontSize=16;" vertex="1" parent="1">
          <mxGeometry x="430" y="340" width="650" height="220" as="geometry"/>
        </mxCell>
        <mxCell id="mod_catalog" value="Catalogue" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;fontColor=#000000;fontStyle=1;fontSize=14;" vertex="1" parent="1">
          <mxGeometry x="450" y="390" width="130" height="60" as="geometry"/>
        </mxCell>
        <mxCell id="mod_resa" value="Réservation" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;fontColor=#000000;fontStyle=1;fontSize=14;" vertex="1" parent="1">
          <mxGeometry x="600" y="390" width="130" height="60" as="geometry"/>
        </mxCell>
        <mxCell id="mod_stocks" value="Stocks" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;fontColor=#000000;fontStyle=1;fontSize=14;" vertex="1" parent="1">
          <mxGeometry x="750" y="390" width="130" height="60" as="geometry"/>
        </mxCell>
        <mxCell id="mod_paiement" value="Paiement" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;fontColor=#000000;fontStyle=1;fontSize=14;" vertex="1" parent="1">
          <mxGeometry x="900" y="390" width="130" height="60" as="geometry"/>
        </mxCell>
        <mxCell id="mod_users" value="Utilisateurs" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;fontColor=#000000;fontStyle=1;fontSize=14;" vertex="1" parent="1">
          <mxGeometry x="450" y="480" width="130" height="60" as="geometry"/>
        </mxCell>
        <mxCell id="mod_notifs" value="Notifications" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;fontColor=#000000;fontStyle=1;fontSize=14;" vertex="1" parent="1">
          <mxGeometry x="600" y="480" width="130" height="60" as="geometry"/>
        </mxCell>
        <mxCell id="mod_admin" value="Admin" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;fontColor=#000000;fontStyle=1;fontSize=14;" vertex="1" parent="1">
          <mxGeometry x="750" y="480" width="130" height="60" as="geometry"/>
        </mxCell>
        <mxCell id="mod_integ" value="Intégration" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;fontColor=#000000;fontStyle=1;fontSize=14;" vertex="1" parent="1">
          <mxGeometry x="900" y="480" width="130" height="60" as="geometry"/>
        </mxCell>
        <mxCell id="db_pg" value="PostgreSQL 16
bricolocDB" style="shape=cylinder3;whiteSpace=wrap;html=1;boundedLbl=1;backgroundOutline=1;size=15;fillColor=#fff2cc;strokeColor=#d6b656;fontStyle=1;fontSize=14;" vertex="1" parent="1">
          <mxGeometry x="450" y="650" width="120" height="100" as="geometry"/>
        </mxCell>
        <mxCell id="db_redis" value="Redis
Cache catalogue" style="shape=cylinder3;whiteSpace=wrap;html=1;boundedLbl=1;backgroundOutline=1;size=15;fillColor=#fff2cc;strokeColor=#d6b656;fontStyle=1;fontSize=14;" vertex="1" parent="1">
          <mxGeometry x="650" y="650" width="120" height="100" as="geometry"/>
        </mxCell>
        <mxCell id="rmq" value="RabbitMQ
Bus d'événements" style="shape=cylinder3;whiteSpace=wrap;html=1;boundedLbl=1;backgroundOutline=1;size=15;fillColor=#fff2cc;strokeColor=#d6b656;fontStyle=1;fontSize=14;" vertex="1" parent="1">
          <mxGeometry x="850" y="650" width="140" height="100" as="geometry"/>
        </mxCell>
        <mxCell id="ext_sap" value="SAP Business One" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;fontColor=#000000;fontStyle=1;fontSize=14;" vertex="1" parent="1">
          <mxGeometry x="1280" y="350" width="160" height="60" as="geometry"/>
        </mxCell>
        <mxCell id="ext_stripe" value="Stripe" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;fontColor=#000000;fontStyle=1;fontSize=14;" vertex="1" parent="1">
          <mxGeometry x="1280" y="450" width="160" height="60" as="geometry"/>
        </mxCell>
        <mxCell id="ext_prix" value="Comparateur de Prix" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;fontColor=#000000;fontStyle=1;fontSize=14;" vertex="1" parent="1">
          <mxGeometry x="1280" y="550" width="160" height="60" as="geometry"/>
        </mxCell>
        <mxCell id="ext_powerbi" value="Power BI" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;fontColor=#000000;fontStyle=1;fontSize=14;" vertex="1" parent="1">
          <mxGeometry x="1280" y="650" width="160" height="60" as="geometry"/>
        </mxCell>
        <mxCell id="e_c_salarie" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;startArrow=oval;startFill=1;strokeWidth=3;strokeColor=#000000;" edge="1" parent="1" source="client_salarie" target="api_gw">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="300" y="150"/>
              <mxPoint x="300" y="160"/>
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="e_c_entrepot" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;startArrow=oval;startFill=1;strokeWidth=3;strokeColor=#000000;" edge="1" parent="1" source="client_entrepot" target="api_gw">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="300" y="250"/>
              <mxPoint x="300" y="180"/>
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="e_c_web" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;startArrow=oval;startFill=1;strokeWidth=3;strokeColor=#000000;" edge="1" parent="1" source="client_web" target="api_gw">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="250" y="410"/>
              <mxPoint x="250" y="200"/>
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="e_c_partenaire" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;startArrow=oval;startFill=1;strokeWidth=3;strokeColor=#000000;" edge="1" parent="1" source="client_partenaire" target="api_gw">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="220" y="510"/>
              <mxPoint x="220" y="200"/>
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="e_gw_mono" value="HTTP/REST" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;startArrow=oval;startFill=1;strokeWidth=3;strokeColor=#000000;" edge="1" parent="1" source="api_gw" target="monolithe">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>
        <mxCell id="e_mono_pg" value="JPA / SQL" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;startArrow=oval;startFill=1;strokeWidth=3;strokeColor=#000000;" edge="1" parent="1" source="monolithe" target="db_pg">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="510" y="560"/>
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="e_mono_redis" value="TCP" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;startArrow=oval;startFill=1;strokeWidth=3;strokeColor=#000000;" edge="1" parent="1" source="monolithe" target="db_redis">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="710" y="560"/>
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="e_mono_rmq" value="AMQP (Pub/Sub)" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;startArrow=oval;startFill=1;strokeWidth=3;strokeColor=#FF0000;fontColor=#FF0000;" edge="1" parent="1" source="mod_notifs" target="rmq">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="665" y="590"/>
              <mxPoint x="920" y="590"/>
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="e_mono_rmq2" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;startArrow=oval;startFill=1;strokeWidth=3;strokeColor=#FF0000;fontColor=#FF0000;" edge="1" parent="1" source="mod_stocks" target="rmq">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="815" y="620"/>
              <mxPoint x="920" y="620"/>
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="e_sap_integ" value="Webhook
StockUpdated" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;startArrow=oval;startFill=1;strokeWidth=3;strokeColor=#FF0000;fontColor=#FF0000;" edge="1" parent="1" source="ext_sap" target="mod_integ">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>
        <mxCell id="e_stripe_paie" value="API/Webhook" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;startArrow=oval;startFill=1;strokeWidth=3;strokeColor=#000000;" edge="1" parent="1" source="mod_paiement" target="ext_stripe">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>
        <mxCell id="e_integ_prix" value="REST" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;startArrow=oval;startFill=1;strokeWidth=3;strokeColor=#000000;" edge="1" parent="1" source="mod_integ" target="ext_prix">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>
        <mxCell id="e_integ_pbi" value="REST" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;startArrow=oval;startFill=1;strokeWidth=3;strokeColor=#000000;" edge="1" parent="1" source="ext_powerbi" target="mod_integ">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
