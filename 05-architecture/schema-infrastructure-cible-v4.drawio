<mxfile host="app.diagrams.net" agent="Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/145.0.0.0 Safari/537.36" version="29.5.6">
  <diagram name="BricoLoc - OVHcloud V4" id="v4-bricoloc-infra">
    <mxGraphModel dx="1800" dy="1200" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="1900" pageHeight="2200" math="0" shadow="1">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />

        <!-- TITRE -->
        <mxCell id="titre" parent="1" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=24;fontStyle=1;fontColor=#1a237e;" value="BricoLoc 2.0 â€” Infrastructure Cible OVHcloud" vertex="1">
          <mxGeometry height="50" width="1200" x="350" y="20" as="geometry" />
        </mxCell>
        <mxCell id="sous_titre" parent="1" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=13;fontStyle=2;fontColor=#455a64;" value="Monolithe Modulaire (Spring Boot 3 / Java 21) Â· OVHcloud Â· RabbitMQ Â· PostgreSQL 16 Â· Redis" vertex="1">
          <mxGeometry height="30" width="1200" x="350" y="68" as="geometry" />
        </mxCell>

        <!-- ZONE CLIENTS -->
        <mxCell id="grp_clients" parent="1" style="swimlane;whiteSpace=wrap;html=1;fillColor=#e3f2fd;strokeColor=#1565c0;startSize=40;fontStyle=1;fontSize=15;fontColor=#0d47a1;rounded=1;shadow=1;" value="ðŸŒ  CLIENTS &amp; UTILISATEURS" vertex="1">
          <mxGeometry height="130" width="1220" x="30" y="110" as="geometry" />
        </mxCell>
        <mxCell id="c_sal" parent="grp_clients" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#bbdefb;strokeColor=#1565c0;shadow=1;fontSize=13;fontStyle=1;" value="ðŸ‘” SalariÃ©.e BricoLoc&#xa;(SSO Azure AD)" vertex="1">
          <mxGeometry height="60" width="180" x="40" y="50" as="geometry" />
        </mxCell>
        <mxCell id="c_entrepots" parent="grp_clients" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#bbdefb;strokeColor=#1565c0;shadow=1;fontSize=13;fontStyle=1;" value="ðŸ­ EntrepÃ´ts (VPN)&#xa;10 sites" vertex="1">
          <mxGeometry height="60" width="180" x="260" y="50" as="geometry" />
        </mxCell>
        <mxCell id="c_web" parent="grp_clients" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#bbdefb;strokeColor=#1565c0;shadow=1;fontSize=13;fontStyle=1;" value="ðŸ–¥ï¸ Navigateur Web&#xa;App Mobile" vertex="1">
          <mxGeometry height="60" width="180" x="480" y="50" as="geometry" />
        </mxCell>
        <mxCell id="c_part" parent="grp_clients" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#bbdefb;strokeColor=#1565c0;shadow=1;fontSize=13;fontStyle=1;" value="ðŸ¤ Partenaire&#xa;(Marque blanche)" vertex="1">
          <mxGeometry height="60" width="180" x="700" y="50" as="geometry" />
        </mxCell>

        <!-- ZONE OVHcloud PRINCIPALE -->
        <mxCell id="grp_ovh" parent="1" style="swimlane;whiteSpace=wrap;html=1;fillColor=#e8eaf6;strokeColor=#3949ab;startSize=40;fontStyle=1;fontSize=16;fontColor=#1a237e;rounded=1;strokeWidth=3;shadow=1;" value="ðŸ‡«ðŸ‡·  OVHcloud â€” HÃ©bergement Souverain / Green IT" vertex="1">
          <mxGeometry height="1140" width="1220" x="30" y="290" as="geometry" />
        </mxCell>

        <!-- DMZ -->
        <mxCell id="grp_dmz" parent="grp_ovh" style="swimlane;whiteSpace=wrap;html=1;fillColor=#ffffff;strokeColor=#78909c;startSize=30;fontSize=14;fontStyle=1;dashed=1;shadow=1;" value="ðŸ›¡ï¸  PÃ©rimÃ©tre SÃ©curitÃ© â€” API Gateway" vertex="1">
          <mxGeometry height="120" width="1160" x="30" y="55" as="geometry" />
        </mxCell>
        <mxCell id="gw_api" parent="grp_dmz" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#c8e6c9;strokeColor=#1b5e20;shadow=1;fontSize=13;fontStyle=1;" value="ðŸ”’ API Gateway&#xa;(Spring Security + JWT)&#xa;Rate Limit Â· TLS Â· Routing" vertex="1">
          <mxGeometry height="80" width="280" x="440" y="25" as="geometry" />
        </mxCell>

        <!-- vRack / Backend -->
        <mxCell id="grp_vrack" parent="grp_ovh" style="swimlane;whiteSpace=wrap;html=1;fillColor=#ffffff;strokeColor=#9e9e9e;startSize=30;fontSize=14;fontStyle=1;shadow=1;" value="ðŸ”’  RÃ©seau PrivÃ© Backend (vRack)" vertex="1">
          <mxGeometry height="900" width="1160" x="30" y="205" as="geometry" />
        </mxCell>

        <!-- Monolithe Modulaire -->
        <mxCell id="grp_mono" parent="grp_vrack" style="swimlane;whiteSpace=wrap;html=1;fillColor=#ede7f6;strokeColor=#4527a0;startSize=35;fontSize=13;fontStyle=1;dashed=1;fontColor=#311b92;strokeWidth=2;shadow=1;" value="âš™ï¸  Monolithe Modulaire BricoLoc 2.0 â€” Spring Boot 3 / Java 21" vertex="1">
          <mxGeometry height="380" width="1120" x="20" y="40" as="geometry" />
        </mxCell>

        <!-- Modules Row 1 -->
        <mxCell id="ms_cat" parent="grp_mono" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d1c4e9;strokeColor=#512da8;fontSize=12;fontColor=#311b92;shadow=1;" value="ðŸ“¦ Catalogue&#xa;â”â”â”â”â”â”â”â”&#xa;Outils Â· CatÃ©gories&#xa;Recherche full-text&#xa;Cache Redis" vertex="1">
          <mxGeometry height="110" width="160" x="30" y="50" as="geometry" />
        </mxCell>
        <mxCell id="ms_res" parent="grp_mono" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d1c4e9;strokeColor=#512da8;fontSize=12;fontColor=#311b92;shadow=1;" value="ðŸ“… RÃ©servation&#xa;â”â”â”â”â”â”â”â”&#xa;Cycle de vie location&#xa;Calendrier dispo&#xa;Annulation" vertex="1">
          <mxGeometry height="110" width="160" x="220" y="50" as="geometry" />
        </mxCell>
        <mxCell id="ms_stk" parent="grp_mono" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d1c4e9;strokeColor=#512da8;fontSize=12;fontColor=#311b92;shadow=1;" value="ðŸ“Š Stocks&#xa;â”â”â”â”â”â”â”â”&#xa;Source vÃ©ritÃ© unique&#xa;Temps rÃ©el (SAP)&#xa;Inter-entrepÃ´ts" vertex="1">
          <mxGeometry height="110" width="160" x="410" y="50" as="geometry" />
        </mxCell>
        <mxCell id="ms_pay" parent="grp_mono" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d1c4e9;strokeColor=#512da8;fontSize=12;fontColor=#311b92;shadow=1;" value="ðŸ’³ Paiement&#xa;â”â”â”â”â”â”â”â”&#xa;Stripe API v3&#xa;PCI-DSS&#xa;Transactions Â· Factures" vertex="1">
          <mxGeometry height="110" width="160" x="600" y="50" as="geometry" />
        </mxCell>
        <mxCell id="ms_mb" parent="grp_mono" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d1c4e9;strokeColor=#512da8;fontSize=12;fontColor=#311b92;shadow=1;" value="ðŸ·ï¸ Marque Blanche&#xa;â”â”â”â”â”â”â”â”&#xa;SaaS Multi-tenant&#xa;APIs partenaire" vertex="1">
          <mxGeometry height="110" width="160" x="790" y="50" as="geometry" />
        </mxCell>

        <!-- Modules Row 2 -->
        <mxCell id="ms_usr" parent="grp_mono" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d1c4e9;strokeColor=#512da8;fontSize=12;fontColor=#311b92;shadow=1;" value="ðŸ‘¥ Utilisateurs (IAM)&#xa;â”â”â”â”â”â”â”â”&#xa;Auth JWT Â· RBAC&#xa;Azure AD SSO&#xa;RGPD" vertex="1">
          <mxGeometry height="110" width="160" x="30" y="200" as="geometry" />
        </mxCell>
        <mxCell id="ms_not" parent="grp_mono" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d1c4e9;strokeColor=#512da8;fontSize=12;fontColor=#311b92;shadow=1;" value="ðŸ”” Notifications&#xa;â”â”â”â”â”â”â”â”&#xa;Emails transactionnels&#xa;Alertes logisticiens&#xa;SMTP / Graph API" vertex="1">
          <mxGeometry height="110" width="160" x="220" y="200" as="geometry" />
        </mxCell>
        <mxCell id="ms_adm" parent="grp_mono" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d1c4e9;strokeColor=#512da8;fontSize=12;fontColor=#311b92;shadow=1;" value="ðŸ› ï¸ Admin&#xa;â”â”â”â”â”â”â”â”&#xa;Back-office sÃ©curisÃ©&#xa;Gestion catalogue&#xa;Tableau de bord" vertex="1">
          <mxGeometry height="110" width="160" x="410" y="200" as="geometry" />
        </mxCell>
        <mxCell id="ms_int" parent="grp_mono" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d1c4e9;strokeColor=#512da8;fontSize=12;fontColor=#311b92;shadow=1;" value="ðŸ”— IntÃ©gration&#xa;â”â”â”â”â”â”â”â”&#xa;Passerelle tiers unique&#xa;SAP Â· Prix Â· Power BI&#xa;Connecteurs REST" vertex="1">
          <mxGeometry height="110" width="160" x="600" y="200" as="geometry" />
        </mxCell>

        <!-- Bus Ã©vÃ©nementiel RabbitMQ -->
        <mxCell id="grp_mq" parent="grp_vrack" style="swimlane;whiteSpace=wrap;html=1;fillColor=#fff3e0;strokeColor=#e65100;startSize=30;fontSize=13;fontStyle=1;fontColor=#bf360c;shadow=1;" value="ðŸ“¨  Bus Ã‰vÃ©nementiel â€” RabbitMQ (AMQP)" vertex="1">
          <mxGeometry height="130" width="1120" x="20" y="450" as="geometry" />
        </mxCell>
        <mxCell id="ev_stock" parent="grp_mq" style="ellipse;whiteSpace=wrap;html=1;fillColor=#ffe0b2;strokeColor=#e65100;fontSize=12;fontStyle=1;shadow=1;" value="StockUpdated" vertex="1">
          <mxGeometry height="55" width="160" x="60" y="45" as="geometry" />
        </mxCell>
        <mxCell id="ev_res" parent="grp_mq" style="ellipse;whiteSpace=wrap;html=1;fillColor=#ffe0b2;strokeColor=#e65100;fontSize=12;fontStyle=1;shadow=1;" value="ResaConfirmed&#xa;(AMQP)" vertex="1">
          <mxGeometry height="60" width="180" x="280" y="40" as="geometry" />
        </mxCell>
        <mxCell id="ev_pay" parent="grp_mq" style="ellipse;whiteSpace=wrap;html=1;fillColor=#ffe0b2;strokeColor=#e65100;fontSize=12;fontStyle=1;shadow=1;" value="PaymentValidated&#xa;(AMQP)" vertex="1">
          <mxGeometry height="60" width="180" x="520" y="40" as="geometry" />
        </mxCell>

        <!-- Zone DonnÃ©es -->
        <mxCell id="grp_data" parent="grp_vrack" style="swimlane;whiteSpace=wrap;html=1;fillColor=#e8f5e9;strokeColor=#2e7d32;startSize=30;fontSize=13;fontStyle=1;fontColor=#1b5e20;shadow=1;" value="ðŸ’¾  Zone Bases de DonnÃ©es &amp; Stockage" vertex="1">
          <mxGeometry height="190" width="820" x="20" y="610" as="geometry" />
        </mxCell>
        <mxCell id="pg" parent="grp_data" style="shape=cylinder3;whiteSpace=wrap;html=1;boundedLbl=1;backgroundOutline=1;size=15;fillColor=#c8e6c9;strokeColor=#1b5e20;shadow=1;fontSize=12;fontStyle=1;" value="ðŸ˜ PostgreSQL 16&#xa;â”â”â”â”â”â”â”â”&#xa;bricolocDB&#xa;JPA / SQL" vertex="1">
          <mxGeometry height="130" width="160" x="60" y="45" as="geometry" />
        </mxCell>
        <mxCell id="redis" parent="grp_data" style="shape=cylinder3;whiteSpace=wrap;html=1;boundedLbl=1;backgroundOutline=1;size=15;fillColor=#c8e6c9;strokeColor=#1b5e20;shadow=1;fontSize=12;fontStyle=1;" value="âš¡ Redis&#xa;â”â”â”â”â”â”â”â”&#xa;Cache catalogue&#xa;TCP" vertex="1">
          <mxGeometry height="130" width="160" x="300" y="45" as="geometry" />
        </mxCell>

        <!-- ZONE SERVICES EXTERNES / SaaS -->
        <mxCell id="grp_tiers" parent="1" style="swimlane;whiteSpace=wrap;html=1;fillColor=#fce4ec;strokeColor=#880e4f;startSize=40;fontStyle=1;fontSize=15;fontColor=#880e4f;rounded=1;shadow=1;" value="ðŸ¢  Services Externes / SaaS" vertex="1">
          <mxGeometry height="1140" width="280" x="1540" y="290" as="geometry" />
        </mxCell>
        <mxCell id="t_azuread" parent="grp_tiers" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffffff;strokeColor=#1565c0;shadow=1;fontSize=12;fontStyle=1;" value="ðŸ”· Azure AD (Entra ID)&#xa;SSO / IdP&#xa;OAuth2 / OIDC" vertex="1">
          <mxGeometry height="80" width="200" x="40" y="60" as="geometry" />
        </mxCell>
        <mxCell id="t_o365" parent="grp_tiers" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffffff;strokeColor=#1565c0;shadow=1;fontSize=12;fontStyle=1;" value="â˜ï¸ Office 365&#xa;Exchange&#xa;SMTP / Graph API" vertex="1">
          <mxGeometry height="70" width="200" x="40" y="190" as="geometry" />
        </mxCell>
        <mxCell id="t_sap" parent="grp_tiers" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffffff;strokeColor=#1565c0;shadow=1;fontSize=12;fontStyle=1;" value="ðŸ“‹ SAP Business One&#xa;ERP â€” Stocks &amp; Compta&#xa;Webhook StockUpdated" vertex="1">
          <mxGeometry height="80" width="200" x="40" y="310" as="geometry" />
        </mxCell>
        <mxCell id="t_stripe" parent="grp_tiers" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffffff;strokeColor=#880e4f;shadow=1;fontSize=12;fontStyle=1;" value="ðŸ’³ Stripe&#xa;Paiement en ligne&#xa;API / Webhook" vertex="1">
          <mxGeometry height="70" width="200" x="40" y="440" as="geometry" />
        </mxCell>
        <mxCell id="t_prix" parent="grp_tiers" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffffff;strokeColor=#880e4f;shadow=1;fontSize=12;fontStyle=1;" value="ðŸ“Š Comparateur de Prix&#xa;REST API" vertex="1">
          <mxGeometry height="70" width="200" x="40" y="560" as="geometry" />
        </mxCell>
        <mxCell id="t_powerbi" parent="grp_tiers" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffffff;strokeColor=#880e4f;shadow=1;fontSize=12;fontStyle=1;" value="ðŸ“ˆ Power BI Analytics&#xa;Tableau de bord BI&#xa;REST" vertex="1">
          <mxGeometry height="70" width="200" x="40" y="680" as="geometry" />
        </mxCell>

        <!-- CONNEXIONS : Clients â†’ API Gateway -->
        <mxCell id="e_sal_gw" edge="1" parent="1" source="c_sal" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;strokeColor=#1565c0;fontStyle=1;fontSize=11;" target="gw_api" value="HTTPS">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="e_ent_gw" edge="1" parent="1" source="c_entrepots" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;strokeColor=#1565c0;fontStyle=1;fontSize=11;" target="gw_api" value="VPN">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="e_web_gw" edge="1" parent="1" source="c_web" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;strokeColor=#1565c0;fontStyle=1;fontSize=11;" target="gw_api" value="HTTPS">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="e_part_gw" edge="1" parent="1" source="c_part" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;strokeColor=#1565c0;fontStyle=1;fontSize=11;" target="gw_api" value="REST API">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>

        <!-- API Gateway â†’ Monolithe -->
        <mxCell id="e_gw_mono" edge="1" parent="1" source="gw_api" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;strokeColor=#4527a0;fontStyle=1;fontSize=11;" target="grp_mono" value="HTTP/REST (JWT)">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>

        <!-- API Gateway â†’ Azure AD -->
        <mxCell id="e_gw_azuread" edge="1" parent="1" source="gw_api" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;strokeColor=#1565c0;dashed=1;fontStyle=2;fontSize=11;" target="t_azuread" value="OAuth2/OIDC">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>

        <!-- Monolithe â†’ DonnÃ©es (sync) -->
        <mxCell id="e_stk_pg" edge="1" parent="1" source="ms_stk" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;strokeColor=#2e7d32;fontStyle=1;fontSize=11;" target="pg" value="JPA / SQL">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="e_cat_redis" edge="1" parent="1" source="ms_cat" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;strokeColor=#2e7d32;fontStyle=1;fontSize=11;" target="redis" value="TCP">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>

        <!-- Modules â†’ Bus RabbitMQ (publish, pointillÃ© rouge) -->
        <mxCell id="e_stk_ev" edge="1" parent="1" source="ms_stk" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;strokeColor=#e65100;dashed=1;fontStyle=1;fontSize=10;" target="ev_stock" value="Publie StockUpdated">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="e_res_ev" edge="1" parent="1" source="ms_res" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;strokeColor=#e65100;dashed=1;fontStyle=1;fontSize=10;" target="ev_res" value="Publie ResaConfirmed">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="e_pay_ev" edge="1" parent="1" source="ms_pay" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;strokeColor=#e65100;dashed=1;fontStyle=1;fontSize=10;" target="ev_pay" value="Publie PaymentValidated">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>

        <!-- Bus â†’ Modules (consume, pointillÃ©) -->
        <mxCell id="e_ev_not" edge="1" parent="1" source="ev_res" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=1;strokeColor=#e65100;dashed=1;fontStyle=2;fontSize=10;" target="ms_not" value="Consomme">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="e_ev_res2" edge="1" parent="1" source="ev_pay" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=1;strokeColor=#e65100;dashed=1;fontStyle=2;fontSize=10;" target="ms_res" value="Consomme">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="e_ev_pay2" edge="1" parent="1" source="ev_res" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=1;strokeColor=#e65100;dashed=1;fontStyle=2;fontSize=10;" target="ms_pay" value="Consomme">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>

        <!-- Modules â†’ Services Tiers -->
        <mxCell id="e_not_o365" edge="1" parent="1" source="ms_not" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;strokeColor=#880e4f;fontStyle=1;fontSize=11;" target="t_o365" value="SMTP / Graph API">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="e_int_sap" edge="1" parent="1" source="t_sap" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;strokeColor=#1565c0;fontStyle=1;fontSize=11;" target="ms_int" value="Webhook StockUpdated">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="e_pay_stripe" edge="1" parent="1" source="ms_pay" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;strokeColor=#880e4f;fontStyle=1;fontSize=11;" target="t_stripe" value="API/Webhook">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="e_int_prix" edge="1" parent="1" source="ms_int" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;strokeColor=#880e4f;fontStyle=1;fontSize=11;" target="t_prix" value="REST">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="e_pbi_int" edge="1" parent="1" source="t_powerbi" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;strokeColor=#880e4f;fontStyle=1;fontSize=11;" target="ms_int" value="REST">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>

        <!-- ICÃ”NES (rÃ©utilisÃ©es depuis V3) -->
        <mxCell id="ico_spring" parent="1" style="image;aspect=fixed;html=1;points=[];align=center;fontSize=12;image=https://cdn.jsdelivr.net/gh/devicons/devicon/icons/spring/spring-original.svg;" value="" vertex="1">
          <mxGeometry height="32" width="32" x="610" y="355" as="geometry" />
        </mxCell>
        <mxCell id="ico_java" parent="1" style="image;aspect=fixed;html=1;points=[];align=center;fontSize=12;image=https://cdn.jsdelivr.net/gh/devicons/devicon/icons/java/java-original.svg;" value="" vertex="1">
          <mxGeometry height="32" width="32" x="650" y="355" as="geometry" />
        </mxCell>
        <mxCell id="ico_pg" parent="1" style="image;aspect=fixed;html=1;points=[];align=center;fontSize=12;image=img/lib/azure2/databases/Azure_Database_PostgreSQL_Server.svg;" value="" vertex="1">
          <mxGeometry height="32" width="32" x="185" y="905" as="geometry" />
        </mxCell>
        <mxCell id="ico_redis" parent="1" style="aspect=fixed;html=1;align=center;fontSize=12;image=img/lib/mscae/Cache_Redis_Product.svg;shape=image;" value="" vertex="1">
          <mxGeometry height="32" width="32" x="430" y="905" as="geometry" />
        </mxCell>
        <mxCell id="ico_azuread" parent="1" style="image;aspect=fixed;html=1;points=[];align=center;fontSize=12;image=img/lib/azure2/identity/Azure_Active_Directory.svg;" value="" vertex="1">
          <mxGeometry height="32" width="32" x="1550" y="308" as="geometry" />
        </mxCell>
        <mxCell id="ico_o365" parent="1" style="aspect=fixed;html=1;align=center;fontSize=12;image=https://icons.diagrams.net/icon-cache1/Logos_Microsoft_Office_365-2232/Microsoft_Office-08-1166.svg;shape=image;" value="" vertex="1">
          <mxGeometry height="32" width="32" x="1550" y="440" as="geometry" />
        </mxCell>
        <mxCell id="ico_sap" parent="1" style="image;aspect=fixed;html=1;points=[];align=center;fontSize=12;image=https://upload.wikimedia.org/wikipedia/commons/5/59/SAP_2011_logo.svg;" value="" vertex="1">
          <mxGeometry height="24" width="48" x="1542" y="570" as="geometry" />
        </mxCell>
        <mxCell id="ico_stripe" parent="1" style="image;aspect=fixed;html=1;points=[];align=center;fontSize=12;image=https://upload.wikimedia.org/wikipedia/commons/b/ba/Stripe_Logo%2C_revised_2016.svg;" value="" vertex="1">
          <mxGeometry height="24" width="48" x="1542" y="698" as="geometry" />
        </mxCell>
        <mxCell id="ico_powerbi" parent="1" style="image;aspect=fixed;html=1;points=[];align=center;fontSize=12;image=img/lib/azure2/power_platform/PowerBI.svg;" value="" vertex="1">
          <mxGeometry height="32" width="32" x="1546" y="816" as="geometry" />
        </mxCell>
        <mxCell id="ico_rmq" parent="1" style="image;aspect=fixed;html=1;points=[];align=center;fontSize=12;image=img/lib/azure2/integration/Service_Bus.svg;" value="" vertex="1">
          <mxGeometry height="32" width="32" x="31" y="638" as="geometry" />
        </mxCell>

        <!-- LÃ‰GENDE -->
        <mxCell id="grp_legende" parent="1" style="swimlane;whiteSpace=wrap;html=1;fillColor=#fafafa;strokeColor=#9e9e9e;startSize=30;fontSize=13;fontStyle=1;shadow=1;" value="ðŸ“Œ  LÃ©gende" vertex="1">
          <mxGeometry height="160" width="860" x="30" y="1470" as="geometry" />
        </mxCell>
        <mxCell id="leg1" parent="grp_legende" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#bbdefb;strokeColor=#1565c0;fontSize=11;shadow=1;" value="â¬œ Clients (Web, Mobile, Partenaires, EntrepÃ´ts)" vertex="1">
          <mxGeometry height="40" width="240" x="20" y="45" as="geometry" />
        </mxCell>
        <mxCell id="leg2" parent="grp_legende" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d1c4e9;strokeColor=#512da8;fontSize=11;shadow=1;" value="â¬œ Monolithe Modulaire (9 modules Maven)" vertex="1">
          <mxGeometry height="40" width="260" x="280" y="45" as="geometry" />
        </mxCell>
        <mxCell id="leg3" parent="grp_legende" style="ellipse;whiteSpace=wrap;html=1;fillColor=#ffe0b2;strokeColor=#e65100;fontSize=11;shadow=1;" value="ðŸŸ¡ Ã‰vÃ©nements RabbitMQ (async AMQP)" vertex="1">
          <mxGeometry height="40" width="250" x="570" y="45" as="geometry" />
        </mxCell>
        <mxCell id="leg4" parent="grp_legende" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#c8e6c9;strokeColor=#2e7d32;fontSize=11;shadow=1;" value="â¬œ DonnÃ©es : PostgreSQL 16 Â· Redis" vertex="1">
          <mxGeometry height="40" width="240" x="20" y="105" as="geometry" />
        </mxCell>
        <mxCell id="leg5" parent="grp_legende" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fce4ec;strokeColor=#880e4f;fontSize=11;shadow=1;" value="â¬œ Services Externes &amp; SaaS" vertex="1">
          <mxGeometry height="40" width="200" x="280" y="105" as="geometry" />
        </mxCell>
        <mxCell id="leg6" parent="grp_legende" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#c5cae9;strokeColor=#3949ab;fontSize=11;shadow=1;" value="â¬œ OVHcloud (SouverainetÃ© FR/UE)" vertex="1">
          <mxGeometry height="40" width="260" x="500" y="105" as="geometry" />
        </mxCell>

      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
